{"version":3,"sources":["images/Vector.svg","components/Header.js","context/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","utils/MestoAuth.js","components/ProtectedRoute.js","components/InfoTooltip.js","images/Union.svg","images/Union (1).svg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","onlogOut","onEmail","props","className","src","logoImg","alt","exact","path","email","onClick","click","to","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","creator","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","onCardClick","name","type","onCardDelete","onCardLike","length","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","noValidate","title","children","style","isButtonHidden","onSubmit","submitButtonName","isDisable","onChange","onDisable","submitButtonText","onClose","ImagePopup","api","config","this","_url","baseUrl","_headers","headers","proms","then","res","ok","json","Promise","reject","Error","status","token","respon","fetch","authorization","_responseServer","data","method","body","JSON","stringify","id","pic","EditProfilePopup","nameRef","useRef","aboutRef","useState","inpuNameError","setInputNameError","inputAboutError","setInputAboutError","disable","setDisable","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","ref","placeholder","required","minLength","maxLength","target","value","current","validity","valid","EditAvatarPopup","inputRef","inpuAvatarError","setInputAvatarError","inputUrl","setInputUrl","onUpdateAvatar","AddPlacePopup","inputCardName","inputCardLink","onAddPlacePopup","Login","password","setData","handleChange","autoComplete","handleLogin","Register","handleSubmit","handleRegister","message","BASE_URL","ProtectedRoute","Component","component","loggedIn","InfoTooltip","isUserLogged","display","img","text","App","isEditAvatarPopupOpen","setisEditAvatarPopupOpen","isEditProfilePopupOpen","setisEditProfilePopupOpen","isAddPlacePopupOpen","setisAddPlacePopupOpen","popupImg","popupText","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setselectedCard","setCurrentUser","setCards","setLoggedIn","setEmail","history","useHistory","getTokens","localStorage","getItem","closeAllPopups","escHandle","keyCode","closeByOverlay","classList","contains","tokenCheck","Accept","Authorization","getContent","push","catch","error","console","log","signOut","removeItem","all","getUserInfo","getAllCards","values","userData","initialCards","err","document","addEventListener","removeEventListener","Provider","requestLike","newCard","newCards","c","deleteLike","putLike","deleteCard","filter","item","register","doneIcon","rejectIcon","onLogin","login","setItem","postNewCard","setUserInfo","getAvatarInfo","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8775a28d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vector.c2821b38.svg\";","import logoImg from \"../images/Vector.svg\";\r\nimport React from \"react\";\r\nimport { Link, Route, Switch } from \"react-router-dom\";\r\nfunction Header({ onlogOut, onEmail, ...props }) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__icon\" src={logoImg} alt=\"Место\" />\r\n      <Switch>\r\n        <Route exact path=\"/main\">\r\n          <div className=\"header-wrapper\">\r\n            <span className=\"header__user-email\">{props.email}</span>\r\n            <button className=\"header__button\" onClick={props.click}>\r\n              Выйти\r\n            </button>\r\n          </div>\r\n        </Route>\r\n        <Route path=\"/signup\">\r\n          <Link className=\"header__button\" to=\"signin\">\r\n            Войти\r\n          </Link>\r\n        </Route>\r\n        <Route path=\"/signin\">\r\n          <Link className=\"header__button\" to=\"signup\">\r\n            Регистрация\r\n          </Link>\r\n        </Route>\r\n      </Switch>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nexport const CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\r\nfunction Card(props) {\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n  \r\n  const currentUser = React.useContext(CurrentUserContext);\r\nconst isOwn = (props.card.creator._id || props.card.creator) === currentUser._id;\r\n\r\n  const cardDeleteButtonClassName = `element__delete ${\r\n    isOwn ? \"element__delete\" : \"element__delete_inactive\"\r\n  }`;\r\n  let isLiked = props.card.likes.some((i) => i === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = `element__like ${\r\n    isLiked ? \"element__like_clicked\" : \"element__like\"\r\n  }`;\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n  return (\r\n    <div className=\"element\">\r\n      <img\r\n        className=\"element__image\"\r\n        src={props.card.link}\r\n        alt=\"\"\r\n        onClick={handleClick}\r\n        // eslint-disable-next-line react/jsx-no-duplicate-props\r\n        alt={props.card.name}\r\n      />\r\n      <div className=\"element__wrapper\">\r\n        <h2 className=\"element__caption\">{props.card.name}</h2>\r\n        <button\r\n          type=\"button\"\r\n          className={cardDeleteButtonClassName}\r\n          onClick={handleDeleteClick}\r\n        ></button>\r\n        <button\r\n          type=\"button\"\r\n          className={cardLikeButtonClassName}\r\n          onClick={handleLikeClick}\r\n        ></button>\r\n        <div className=\"element__like-counter\">{props.card.likes.length}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <button\r\n          className=\"profile__button\"\r\n          onClick={props.onEditAvatar}\r\n        ></button>\r\n        <img\r\n          className=\"profile__avatar\"\r\n          src={currentUser.avatar}\r\n          alt=\" Аватарка\"\r\n        />\r\n        <div className=\"profile-info\">\r\n          <div className=\"profile-info__wrapper\">\r\n            <h1 className=\"profile-info__name\">{currentUser.name}</h1>\r\n            <p className=\"profile-info__description\">{currentUser.about}</p>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"profile-info__edit-button\"\r\n            onClick={props.onEditProfile}\r\n          ></button>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        {props.cards.map((card) => (\r\n          <Card\r\n            card={card}\r\n            onCardClick={props.onCardClick}\r\n            key={card._id}\r\n            onCardLike={props.onCardLike}\r\n            onCardDelete={props.onCardDelete}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__item\"> &#169; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <section\r\n      className={`popup-${props.name} popup-form popup ${\r\n        !props.isOpen ? \"\" : \"popup-form_showed\"\r\n      }`}\r\n    >\r\n      <form className=\"popup-form__wrapper popup-edit__form\" noValidate>\r\n        <h3 className=\"popup-form__title\">{props.title}</h3>\r\n        {props.children}\r\n        <button\r\n        style={props.isButtonHidden}\r\n          onClick={props.onSubmit}\r\n          type=\"submit\"\r\n          className={`popup-form__save-button popup-${props.submitButtonName} ${\r\n            !props.isDisable ? \"\" : \"popup-form__save-button_inactive\"\r\n          }`}\r\n          onChange={props.onDisable}\r\n        >\r\n          {props.submitButtonText}\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup-form__close-button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <section\r\n      className={`popup-card popup ${!props.card ? \"\" : \"popup-form_showed\"}`}\r\n    >\r\n      <figure className=\"popup-card__wrapper\">\r\n        <img\r\n          className=\"popup-card__image\"\r\n          src={props.card ? props.card.link : \"\"}\r\n          alt={props.card ? props.card.name : \"\"}\r\n        />\r\n        <figcaption className=\"popup-card__caption\">\r\n          {props.card ? props.card.name : \"\"}\r\n        </figcaption>\r\n        <button\r\n          className=\"popup-card__button popup-form__close-button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </figure>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","\r\n\r\nexport class Api {\r\n  constructor(config) {\r\n    this._url = config.baseUrl;\r\n    this._headers = config.headers;\r\n  }\r\n\r\n  _responseServer(proms) {\r\n    return proms.then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    })\r\n  \r\n  }\r\n\r\n  getUserInfo(token) {\r\n    const respon = fetch(`${this._url}users/me`, {\r\n      headers: {\r\n        authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    return this._responseServer(respon);\r\n  }\r\n\r\n  setUserInfo(data, token) {\r\n    const respon = fetch(`${this._url}users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    });\r\n\r\n    return this._responseServer(respon);\r\n  }\r\n\r\n  getAllCards(token) {\r\n    const respon = fetch(`${this._url}cards`, {\r\n      headers: {\r\n        authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    return this._responseServer(respon);\r\n  }\r\n\r\n  postNewCard(data, token) {\r\n    const respon = fetch(`${this._url}cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        link: data.link,\r\n        name: data.name,\r\n      }),\r\n    });\r\n    return this._responseServer(respon);\r\n  }\r\n\r\n  deleteCard(id, token) {\r\n    const respon = fetch(`${this._url}cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    return this._responseServer(respon);\r\n  }\r\n\r\n  putLike(id, token) {\r\n    const respon = fetch(`${this._url}cards/likes/${id}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    return this._responseServer(respon);\r\n  }\r\n\r\n  deleteLike(id, token) {\r\n    const respon = fetch(`${this._url}cards/likes/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    return this._responseServer(respon);\r\n  }\r\n\r\n  getAvatarInfo(pic, token) {\r\n    const respon = fetch(`${this._url}users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: pic.avatar,\r\n      }),\r\n    });\r\n\r\n    return this._responseServer(respon);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"http://localhost:3001/\",\r\n \r\n});\r\n\r\nexport default api;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"../components/PopupWithForm\";\r\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const nameRef = React.useRef();\r\n  const aboutRef = React.useRef();\r\n\r\n  const [inpuNameError, setInputNameError] = React.useState(false);\r\n  const [inputAboutError, setInputAboutError] = React.useState(false);\r\n  const [disable, setDisable] = React.useState(false);\r\n\r\n  const [name, setName] = React.useState(\"\");\r\n\r\n  const [description, setDescription] = React.useState(\"\");\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n    validateNameInput();\r\n  }\r\n\r\n  function handleAboutChange(e) {\r\n    setDescription(e.target.value);\r\n    validateAboutInput();\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n    setInputAboutError(true);\r\n    setInputNameError(true);\r\n    setDisable(false);\r\n  }, [currentUser]);\r\n\r\n  function handleInfoSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  function validateNameInput() {\r\n    !nameRef.current.validity.valid\r\n      ? setInputNameError(false) || setDisable(true)\r\n      : setInputNameError(true) || setDisable(false);\r\n  }\r\n  function validateAboutInput() {\r\n    !aboutRef.current.validity.valid\r\n      ? setInputAboutError(false) || setDisable(true)\r\n      : setInputAboutError(true) || setDisable(false);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isDisable={disable}\r\n      name=\"form-edit\"\r\n      title=\"Редактировать профиль\"\r\n      submitButtonText=\" Сохранить\"\r\n      onClose={props.onClose}\r\n      isOpen={props.isOpen}\r\n      onSubmit={handleInfoSubmit}\r\n    >\r\n      <>\r\n        <input\r\n          ref={nameRef}\r\n          placeholder={name}\r\n          type=\"text\"\r\n          name=\"name\"\r\n          className=\"popup-form__input popup-form__input-name\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          onChange={handleNameChange}\r\n        />\r\n        <span\r\n          className={`error ${inpuNameError ? \"\" : \"error_active\"}`}\r\n          id=\"name-error\"\r\n        >\r\n          Имя не может иметь меньше чем 2 и больше чем 40 букв\r\n        </span>\r\n        <input\r\n          ref={aboutRef}\r\n          placeholder={description}\r\n          type=\"text\"\r\n          name=\"description\"\r\n          className=\"popup-form__input popup-form__input-description\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          onChange={handleAboutChange}\r\n        />\r\n        <span\r\n          className={`error ${inputAboutError ? \"\" : \"error_active\"}`}\r\n          id=\"description-error\"\r\n        >\r\n          Био не может иметь меньше чем 2 и больше чем 200 букв\r\n        </span>\r\n      </>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const inputRef = React.useRef();\r\n  const [inpuAvatarError, setInputAvatarError] = React.useState(false);\r\n  const [inputUrl, setInputUrl] = React.useState(\"\");\r\n  const [disable, setDisable] = React.useState(false);\r\n\r\n  function handleAvatarChange(e) {\r\n    setInputUrl(e.target.value);\r\n    validateAvatar();\r\n  }\r\n\r\n  function handleAvatarSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: inputRef.current.value,\r\n    });\r\n    inputRef.current.value = \"\";\r\n  }\r\n\r\n  function validateAvatar() {\r\n    inputRef.current.validity.valid\r\n      ? setInputAvatarError(false) || setDisable(false)\r\n      : setInputAvatarError(true) || setDisable(true);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isDisable={disable}\r\n      value={inputUrl}\r\n      name=\"form-avatar\"\r\n      title=\"Обновить аватар\"\r\n      submitButtonText=\" Сохранить\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleAvatarSubmit}\r\n    >\r\n      <>\r\n        <input\r\n          ref={inputRef}\r\n          type=\"url\"\r\n          name=\"avatar\"\r\n          className=\"popup-form__input popup-form-avatar__input\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          onChange={handleAvatarChange}\r\n          required\r\n        />\r\n        <span\r\n          className={`error ${!inpuAvatarError ? \"\" : \"error_active\"}`}\r\n          id=\"linkAvatar-error\"\r\n        >\r\n          Вставьте, пожалуйста, ссылку на картинку\r\n        </span>\r\n      </>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\nfunction AddPlacePopup(props) {\r\n  const inputCardName = React.useRef();\r\n  const inputCardLink = React.useRef();\r\n\r\n  function handleAddPlaceSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlacePopup({\r\n      link: inputCardLink.current.value,\r\n      name: inputCardName.current.value,\r\n    });\r\n    inputCardLink.current.value = \"\";\r\n    inputCardName.current.value = \"\";\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"form-new\"\r\n      title=\"Новое место\"\r\n      submitButtonText=\" Создать\"\r\n      onClose={props.onClose}\r\n      isOpen={props.isOpen}\r\n      onSubmit={handleAddPlaceSubmit}\r\n    >\r\n      <>\r\n        <input\r\n          ref={inputCardName}\r\n          type=\"text\"\r\n          name=\"nameCard\"\r\n          placeholder=\"Название\"\r\n          className=\"popup-form__input popup-form-new__input-name\"\r\n          required\r\n          minLength=\"1\"\r\n          maxLength=\"30\"\r\n        />\r\n        <span className=\"error\" id=\"nameCard-error\"></span>\r\n        <input\r\n          ref={inputCardLink}\r\n          type=\"url\"\r\n          name=\"link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          className=\"popup-form__input popup-form-new__input-link\"\r\n          required\r\n        />\r\n        <span className=\"error\" id=\"link-error\"></span>\r\n      </>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\n\r\nfunction Login(props) {\r\n  const [data, setData] = React.useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({ ...data, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!data.email || !data.password) {\r\n      return;\r\n    }\r\n    props.handleLogin(data.email, data.password);\r\n  };\r\n\r\n  return (\r\n    <form className=\"auth-form\">\r\n      <h2 className=\"auth-form__title\">Вход</h2>\r\n      <input\r\n        type=\"email\"\r\n        className=\"auth-form__input-email auth-form-input\"\r\n        name=\"email\"\r\n        value={data.email}\r\n        onChange={handleChange}\r\n        placeholder=\"Введите ваш e-mail\"\r\n        autoComplete=\"useremail\"\r\n      />\r\n      <span className=\"auth-form__error\" id=\"email-error\"></span>\r\n      <input\r\n        type=\"password\"\r\n        className=\"auth-form__input-password auth-form-input\"\r\n        name=\"password\"\r\n        value={data.password}\r\n        onChange={handleChange}\r\n        placeholder=\"Введите пароль\"\r\n        autoComplete=\"current-password\"\r\n      />\r\n      <span className=\"auth-form__error\" id=\"password-error\"></span>\r\n      <button\r\n        type=\"submit\"\r\n        className=\"auth-form__button-submit\"\r\n        onClick={handleSubmit}\r\n      >\r\n        Войти\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nfunction Register(props) {\r\n  const [data, setData] = React.useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({ ...data, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { email, password } = data;\r\n    props.handleRegister(email, password);\r\n  };\r\n\r\n  return (\r\n    <form className=\"auth-form\" onSubmit={handleSubmit}>\r\n      <h2 className=\"auth-form__title\">Региcтрация</h2>\r\n      <input\r\n        type=\"email\"\r\n        className=\"auth-form__input-email auth-form-input\"\r\n        name=\"email\"\r\n        value={data.email}\r\n        onChange={handleChange}\r\n        placeholder=\"Введите ваш e-mail\"\r\n        required\r\n        autoComplete=\"useremail\"\r\n      />\r\n      <span className=\"auth-form__error\" id=\"email-error\">\r\n        {props.message}\r\n      </span>\r\n      <input\r\n        type=\"password\"\r\n        className=\"auth-form__input-password auth-form-input\"\r\n        name=\"password\"\r\n        value={data.password}\r\n        onChange={handleChange}\r\n        placeholder=\"Введите пароль\"\r\n        required\r\n        minLength=\"4\"\r\n        autoComplete=\"current-password\"\r\n      />\r\n      <span className=\"auth-form__error\" id=\"password-error\"></span>\r\n      <button\r\n        type=\"submit\"\r\n        className=\"auth-form__button-submit\"\r\n        onClick={handleSubmit}\r\n      >\r\n        Загеристрироваться\r\n      </button>\r\n      <p className=\"auth-form__text\">\r\n        Уже зарегистрировались?\r\n        <Link to=\"/signin\" className=\"auth-form__button-redirect\">\r\n          Войти\r\n        </Link>\r\n      </p>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","export const BASE_URL = \"http://localhost:3001\";\r\n\r\nexport function register(email, password) {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else return Promise.reject(`${res.status}`);\r\n  });\r\n}\r\n\r\nexport function login(email, password) {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else return Promise.reject(`${res.status}`);\r\n  });\r\n}\r\nexport function getContent(token) {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else return Promise.reject(`${res.status}`);\r\n  });\r\n}\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {props.loggedIn === true ? (\r\n        <Component {...props} /> || <Component {...props} />\r\n      ) : (\r\n        <Redirect to=\"./signin\" />\r\n      )}\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction InfoTooltip(props) {\r\n  return (\r\n    <PopupWithForm\r\n      name=\"infotool\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.isUserLogged}\r\n      isButtonHidden={{ display: \"none\" }}\r\n    >\r\n      <div className=\"infotool-tip\">\r\n        <img className=\"infotool-tip__img\" alt=\"icon\" src={props.img} />\r\n        <p className=\"infotool-tip__text\">{props.text}</p>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","export default __webpack_public_path__ + \"static/media/Union.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/Union (1).d4ce2a26.svg\";","/* eslint-disable eqeqeq */\r\nimport React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/api\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport { register, login, getContent } from \"../utils/MestoAuth\";\r\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport doneIcon from \"../../src/images/Union.svg\";\r\nimport rejectIcon from \"../../src/images/Union (1).svg\";\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setisEditAvatarPopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isEditProfilePopupOpen, setisEditProfilePopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isAddPlacePopupOpen, setisAddPlacePopupOpen] = React.useState(false);\r\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState({\r\n    isOpen: false,\r\n    popupImg: \"\",\r\n    popupText: \"\",\r\n  });\r\n\r\n  const [selectedCard, setselectedCard] = React.useState(null);\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const escCode = 27;\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [email, setEmail] = React.useState(\"\");\r\n\r\n  const history = useHistory();\r\n\r\n  \r\n    React.useEffect(() => {\r\n      if (loggedIn) {\r\n        const token = getTokens();\r\n    Promise.all([api.getUserInfo(token), api.getAllCards(token)])\r\n      .then((values) => {\r\n        const [userData, initialCards] = values;\r\n        setCards(initialCards);\r\n        setCurrentUser(userData.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    }\r\n  }, [loggedIn]);\r\n\r\n  React.useEffect(() => {\r\n    if (loggedIn) {\r\n      history.push(\"/main\");\r\n    }\r\n  }, [loggedIn, history]);\r\n\r\n  function handleCardLike(card) {\r\n    let isLiked = card.likes.some((i) => \r\n      i == currentUser._id\r\n    );\r\n\r\n    function requestLike(newCard) {\r\n      const newCards = cards.map((c) =>\r\n      (c._id === card._id ? newCard : c));\r\n      setCards(newCards);\r\n    }\r\n    if (!isLiked) {\r\n      api\r\n        .putLike(card._id, getTokens())\r\n        .then(requestLike)\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    } else {\r\n      api\r\n        .deleteLike(card._id, getTokens())\r\n        .then(requestLike)\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    tokenCheck();\r\n  }, [history, tokenCheck]);\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id, getTokens())\r\n      .then(() => {\r\n        const newCard = cards.filter((item) => item !== card);\r\n        setCards(newCard);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n  function getTokens(){\r\n    return localStorage.getItem(\"token\");\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setisEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setisEditProfilePopupOpen(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setisAddPlacePopupOpen(true);\r\n  }\r\n  function handleCardClick(card) {\r\n    setselectedCard(card);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setisEditAvatarPopupOpen(false);\r\n    setisAddPlacePopupOpen(false);\r\n    setisEditProfilePopupOpen(false);\r\n    setselectedCard(null);\r\n    setIsConfirmPopupOpen(false);\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api\r\n      .setUserInfo(data, getTokens())\r\n      .then((res) => {\r\n        setCurrentUser(res.data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api\r\n      .getAvatarInfo(data, getTokens())\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  }\r\n  function handleSubmitCard(data) {\r\n    console.log(\"infaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\" + data)\r\n    api\r\n      .postNewCard(data, getTokens())\r\n      .then((data) => {\r\n        console.log(\"infoooooooooooooo\" + data);\r\n        setCards([data.data, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  }\r\n  function escHandle(e) {\r\n    if (e.keyCode === escCode) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n  function closeByOverlay(e) {\r\n    if (e.target.classList.contains(\"popup\")) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    document.addEventListener(\"keydown\", escHandle);\r\n    document.addEventListener(\"mousedown\", closeByOverlay);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", escHandle);\r\n      document.removeEventListener(\"mousedown\", closeByOverlay);\r\n    };\r\n  });\r\n\r\n  function handleRegister(email, password) {\r\n    register(email, password)\r\n      .then((res) => {\r\n        if (res) {\r\n          setIsConfirmPopupOpen({\r\n            isOpen: true,\r\n            popupImg: doneIcon,\r\n            popupText: \"Вы успешно зарегистрировались\",\r\n          });\r\n          history.push(\"/sign-in\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        // eslint-disable-next-line eqeqeq\r\n        if (err == 400) {\r\n          console.log(\"Неккоректно заполнено одно из полей.\");\r\n        }\r\n        setIsConfirmPopupOpen({\r\n          isOpen: true,\r\n          popupImg: rejectIcon,\r\n          popupText: \"Что-то пошло не так! Попробуйте ещё раз.\",\r\n        });\r\n      });\r\n  }\r\n\r\n  function handleLogin(email, password) {\r\n    setIsConfirmPopupOpen(true);\r\n    login(email, password)\r\n      .then((data) => {\r\n        if (data.token) {\r\n          setLoggedIn(true);\r\n          localStorage.setItem(\"token\", data.token);\r\n          history.push(\"/main\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        if (err == 400) {\r\n          console.log(\"Не передано одно из полей.\");\r\n        } else if (err == 401) {\r\n          console.log(\"пользователь с email не найден\");\r\n        }\r\n        setIsConfirmPopupOpen({\r\n          isOpen: true,\r\n          popupImg: rejectIcon,\r\n          popupText: \"Что-то пошло не так! Попробуйте ещё раз.\",\r\n        });\r\n      });\r\n  }\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  function tokenCheck() {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      getContent(token)\r\n        .then((res) => {\r\n          if (res) {\r\n            setLoggedIn(true);\r\n            setEmail(res.data.email);\r\n            history.push(\"/main\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          if (error == 400) {\r\n            console.log(\"Переданный токен некорректен\");\r\n          } else if (error == 401) {\r\n            console.log(\"Токен не передан или передан не в том формате\");\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  function signOut() {\r\n    localStorage.removeItem(\"token\");\r\n    setLoggedIn(false);\r\n    history.push(\"/signin\");\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Header email={email} click={signOut} />\r\n        <Switch>\r\n          <ProtectedRoute\r\n            path=\"/main\"\r\n            email={email}\r\n            click={signOut}\r\n            loggedIn={loggedIn}\r\n            component={Main}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onCardClick={handleCardClick}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            cards={cards}\r\n          ></ProtectedRoute>\r\n\r\n          <Route path=\"/signup\">\r\n            <Register\r\n              handleRegister={handleRegister}\r\n              onLogin={() => {\r\n                history.push(\"/signin\");\r\n              }}\r\n            />\r\n          </Route>\r\n\r\n          <Route path=\"/signin\">\r\n            <Login handleLogin={handleLogin} />\r\n          </Route>\r\n          <Route>\r\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\r\n          </Route>\r\n          <Route path=\"*\">\r\n            <Redirect to=\"/signin\" />\r\n          </Route>\r\n        </Switch>\r\n        <AddPlacePopup\r\n          onClose={closeAllPopups}\r\n          isOpen={isAddPlacePopupOpen}\r\n          onAddPlacePopup={handleSubmitCard}\r\n        />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <PopupWithForm\r\n          name=\"deleted-card\"\r\n          title=\"Вы уверены?\"\r\n          submitButtonText=\" Да\"\r\n          onClose={closeAllPopups}\r\n        />\r\n      </CurrentUserContext.Provider>\r\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n      <InfoTooltip\r\n        isOpen={isConfirmPopupOpen.isOpen}\r\n        isUserLogged={closeAllPopups}\r\n        img={isConfirmPopupOpen.popupImg}\r\n        text={isConfirmPopupOpen.popupText}\r\n      />\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n     <BrowserRouter>\r\n            <App/>\r\n        </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}